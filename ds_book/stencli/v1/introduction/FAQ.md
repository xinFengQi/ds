# 常见问题

## 介绍

### 什么是Stencli？

Stencli是面向开发人员的工具链，用于构建可重用，可伸缩的组件库，应用程序和设计系统。它提供了生成高度优化的Web组件的编译器，并将最流行的框架的最佳概念组合到一个简单的构建时工具中。

Stencli专注于使用Web标准构建组件。世界各地的开发人员和组织都在使用它，并且它是[100％免费的MIT开源软件](https://github.com/ionic-team/stencil/blob/master/LICENSE.md)。

### Stencli能做什么？

模具帮助开发人员和团队构建和共享自定义组件。由于Stencil生成符合标准的Web组件，因此使用Stencil生成的组件可以直接与许多流行的框架一起使用，甚至可以不用框架使用，因为它们只是Web组件。Stencil还启用了Web组件之上的许多关键功能，尤其是预渲染和对象即属性（不仅仅是字符串）。

### Stencli为了谁而出现？

Stencil适用于希望构建可在团队，框架和大型组织之间共享的自定义组件库和设计系统的开发人员和团队。

希望将原始设计愿景始终如一地，高保真地交付给所有用户的设计师也可以使用Stencil。

### Stencli由谁开发的？

Stencil是由Ionic核心团队发起的一个开放源代码项目，社区也做出了贡献。

### 为什么开发了Stencli？

Stencil是由Ionic Framework团队创建的，目的是使我们自己的组件库更快，更小并与所有主要框架兼容。Web Components提供了一种解决方案，将更多的工作投入浏览器以提高性能，并针对所有框架都可以使用的基于标准的组件模型。


### 谁正在使用Stencli？

Stencil最初是为Ionic Framework开发的，已经成为非常成功的基于Web组件的设计系统/ UI框架。现在，Web组件已存在数千个应用程序商店应用程序中，并且每年将创建近400万个新的Ionic Framework项目。

### Stencli与传统框架相比如何？


Web组件生态系统具有各种各样的参与者，每个参与者对Web组件可以做什么都应该有不同的长期愿景。

一些人认为Web组件应该替代第三方应用程序框架，而另一些人则认为Web组件更适合叶子/样式/设计节点，而不应该从事应用程序组件系统的业务。也有许多框架开发人员没有意识到Web组件的意义，或者认为它们是对前端创新的冒犯。

有了Stencil，我们的愿景就在中间。从长远来看，我们认为应用程序开发团队将继续使用他们选择的框架。我们设想这些框架将继续变得更好，更小，更有效，并为目标和使用Web组件提供越来越好的支持，随着企业继续将它们用于共享设计系统，大型团队也将使用越来越多的Web组件。

同时，我们认为Web组件不可或缺的功能正在解决这些组件分发和设计系统问题。但是，我们还相信，90％的市场都不是一开始就存在这些问题的，因此，当前有关Web组件优点的争论有些无济于事。

### 为什么Stencli被认为与框架无关？

Web组件最吸引人的好处也许是它们使您的开发团队可以灵活地选择基础工具和框架以及这些框架的版本及他们喜欢的工具。如前所述，实现通用设计系统的一大挑战是使所有开发团队仅对一套技术进行标准化。借助Web组件，每个团队都可以使用最适合自己的工具，从而为他们提供了完全自由的使用方式，无论是现在还是将来。

## Stencli提供什么？

### Stencli是否有组件库

使用最广泛的Stencil组件库是Ionic Framework，但是Stencil本身只是一个工具链，不提供自己的组件库。如果您正在构建应用程序，我们建议您首先检查Ionic组件。

### Stencli是框架吗？

Stencil的目的不是努力充当一个独立的框架，而是一个允许开发人员在许多项目，团队和大型组织中扩展与框架无关的组件的工具。Stencil的超级能力之一就是它的灵活性：它的组件可以独立使用，也可以在传统框架内使用。

### Stencli是否带有测试框架？

是的，Stencil为单元测试和端到端测试提供了丰富的API集。了解有关使用Stencil进行测试的更多信息。

## 技术

### 为什么Stencil使用Web组件？

通过使用一套一致的Web标准，Web组件无需依赖特定的框架运行时来执行。当框架更改其API时，Web组件不会更改，从而允许原始源(原始代码)继续在浏览器中本地工作。

毕竟，尽管我们热爱今天的热门框架，但谁知道明天会带来什么呢？通过选择Web组件，您可以使自己免受技术冲击的威胁。

### Stencil如何优化组件文件的大小和启动？

传统框架提供了运行时API，开发人员可以选择每个组件要使用的API。但是，这意味着每个功能特性都必须对每个组件可用，以防万一该组件可能使用或弃用API​​。

使用Stencil，编译器能够对每个组件执行静态分析，以了解正在使用和未使用哪些API。这样，Stencil能够自定义每个构建以准确使用每个组件的需求，从而以最小的尺寸实现高度优化的运行时。

由于Stencil使用编译器，因此能够在新的改进和功能可用时调整代码。可以继续使用相同的公共API和语法来编写源代码，而编译器可以调整代码以进一步利用现代功能，而无需重新编写。

### Stencil使用哪种模板语法？

Stencil并没有发明另一种需要记录和教导的模板语法，而是选择了最常用的模板语法：JSX。由于React的流行，全球数以百万计的开发人员已经熟悉JSX，这使开发人员更容易快速上手Stencil。此外，使用传统的运行时模板语法，对API的任何更改通常都需要重写组件。

重要的是要注意，JSX和VDom不一定是同一件事。一种是模板语法（JSX），另一种是渲染器（VDom）。Stencil使用了一个更小且高度优化的VDom，但是JSX支持渲染器的“工作方式”和进行的改进。所有这些都是编译器的优势，它允许用户使用众所周知的JSX语法编写代码，同时使内部结构进一步优化。

### 为什么Stencil允许组件被延迟加载？

延迟加载组件有助于减少应用程序启动时间，减小捆绑包大小并改善分发。

例如，Ionic Framework包括将近100个UI组件，这些组件都是使用Stencil构建的。如果没有延迟加载，Ionic的初始入口文件将大约为800kb。延迟加载后，所有Ionic的脚本仅为5kb。这包括iOS和Material Design以及动画和手势库的组件。由于Ionic只动态加载所用的内容，因此可以大大缩短启动时间，并且用户仅可以只完全加载其应用程序的首次绘画所需的内容。

同时，使用Stencil构建的组件仍可以由传统捆绑器导入和使用。它们也可以进行预渲染，以包括Shadow dom，在Node环境中运行，并且可以在任何框架中使用。

组件库的使用者可以使用一个组件，几个组件或全部组件。在任何一种情况下，仅通过添加脚本标签即可使用组件库，延迟加载可确保以低带宽占用量快速启动。

您还可以在“延迟加载Web组件如何与Stencil一起使用”中了解有关延迟加载的更多信息。

### Stencil为什么不扩展HTMLElement(html标记元素类)？

Web组件规范的一部分是扩展HTMLElement，但是，出于几个原因，Stencil不需要这样做。具体来说，HTMLElement将源代码锁定为只能在浏览器中运行，而不是使逻辑不受任何API的干扰。Stencil编译器能够为各种优化组件作为输出目标生成许多不同的版本，一种简化方法是将HTMLElement保留在其中。

### 为什么用TypeScript编写Stencil组件？

Stencil最初是为Ionic构建的，根据我们的经验，我们发现TypeScript是在多个团队之间维护大型代码库的宝贵工具。

### Stencil运行时具有哪些依存关系？

没有。Stencil生成的代码不依赖于Stencil，而是生成高度优化的，无框架的独立代码，这些代码可在浏览器中本地运行。

### Stencil编译器具有哪些依赖性？

TypeScript, 仅此而已。

### 
