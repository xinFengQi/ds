(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"06b9":function(t,e,n){"use strict";var c=n("7a23"),a={class:"home_tool"},o=Object(c["o"])("保存此次数据更新，不会影响本地书签内容"),i={class:"home_main"},s={class:"home_content"},r={key:0,class:"home_tool"},u={key:1,class:"data_show_tool"},l={key:0,class:"home_task_list"};function d(t,e,n,d,f,b){var j=Object(c["R"])("a-button"),h=Object(c["R"])("HomeMenu"),m=Object(c["R"])("a-input"),p=Object(c["R"])("HomeContent"),O=Object(c["R"])("HomeTaskList");return Object(c["H"])(),Object(c["l"])(c["b"],null,[Object(c["m"])("div",a,[n.edit?(Object(c["H"])(),Object(c["j"])(j,{key:0,type:"primary",onClick:b.saveUpdate},{default:Object(c["cb"])((function(){return[o]})),_:1},8,["onClick"])):Object(c["k"])("",!0)]),Object(c["m"])("div",i,[Object(c["p"])(h,{onGetShowMenu:e[0]||(e[0]=function(t){return b.getShowMenu(t)}),onGetShowPublicMenu:e[1]||(e[1]=function(t){return b.getShowPublicMenu(t)}),onGetAllMenu:e[2]||(e[2]=function(t){return b.getAllMenu(t)}),onDeleteItem:e[3]||(e[3]=function(t){return b.deleteItem(t)}),edit:n.edit},null,8,["edit"]),Object(c["m"])("div",s,[!n.edit&&(f.showContentData&&f.showContentData.length||f.showPublicContentData&&f.showPublicContentData.length)?(Object(c["H"])(),Object(c["l"])("div",r,[Object(c["p"])(m,{class:"input_search",value:f.value,"onUpdate:value":e[4]||(e[4]=function(t){return f.value=t}),placeholder:"搜索书签"},null,8,["value"])])):Object(c["k"])("",!0),n.edit&&!f.isShowPublic&&!f.value&&f.showContentData&&f.showContentData.length?(Object(c["H"])(),Object(c["l"])("div",u," 数据时间标识: "+Object(c["U"])(b.getDate(f.showContentData[0].dateAdded)),1)):Object(c["k"])("",!0),f.value&&f.searchContentData&&f.searchContentData.length?(Object(c["H"])(),Object(c["j"])(p,{key:2,edit:n.edit,style:{overflow:"auto",flex:"1"},showContentData:f.searchContentData},null,8,["edit","showContentData"])):Object(c["k"])("",!0),!f.isShowPublic&&!f.value&&f.showContentData&&f.showContentData.length?(Object(c["H"])(),Object(c["j"])(p,{key:3,edit:n.edit,style:{overflow:"auto",flex:"1"},showContentData:f.showContentData,onDeleteItem:e[5]||(e[5]=function(t){return b.deleteItem(t)})},null,8,["edit","showContentData"])):Object(c["k"])("",!0),f.isShowPublic&&!f.value&&f.showPublicContentData&&f.showPublicContentData.length?(Object(c["H"])(),Object(c["j"])(p,{key:4,edit:!1,style:{overflow:"auto",flex:"1"},showContentData:f.showPublicContentData},null,8,["showContentData"])):Object(c["k"])("",!0)]),n.edit||!f.isHomeTaskList&&!f.isHomeTaskListPublic?Object(c["k"])("",!0):(Object(c["H"])(),Object(c["l"])("div",l,[Object(c["p"])(O)]))])],64)}n("4de4"),n("d3b7"),n("159b"),n("caad"),n("2532"),n("e9c4");var f={key:0,class:"opate"};function b(t,e,n,a,o,i){var s=Object(c["R"])("DeleteOutlined"),r=Object(c["R"])("a-menu-item"),u=Object(c["R"])("a-menu");return Object(c["H"])(),Object(c["j"])(u,{style:{width:"auto"},mode:"inline",selectedKeys:o.selectedKeys,"onUpdate:selectedKeys":e[0]||(e[0]=function(t){return o.selectedKeys=t}),"inline-collapsed":t.collapsed},{default:Object(c["cb"])((function(){return[(Object(c["H"])(!0),Object(c["l"])(c["b"],null,Object(c["P"])(o.machineMenu,(function(t){return Object(c["H"])(),Object(c["j"])(r,{style:{width:"auto"},key:t.dateAdded+"",onClick:function(e){return i.getClickMenu(t)}},{default:Object(c["cb"])((function(){return[Object(c["m"])("span",null,Object(c["U"])(t.title),1),n.edit?(Object(c["H"])(),Object(c["l"])("span",f,[Object(c["p"])(s,{onClick:function(e){return i.deleteMenu(e,t)}},null,8,["onClick"])])):Object(c["k"])("",!0)]})),_:2},1032,["onClick"])})),128)),(Object(c["H"])(!0),Object(c["l"])(c["b"],null,Object(c["P"])(o.pubilcMachineMenu,(function(t){return Object(c["H"])(),Object(c["j"])(r,{style:{width:"auto"},key:t.dateAdded+"",onClick:function(e){return i.getClickPublicMenu(t)}},{default:Object(c["cb"])((function(){return[Object(c["m"])("span",null,Object(c["U"])(t.title),1)]})),_:2},1032,["onClick"])})),128))]})),_:1},8,["selectedKeys","inline-collapsed"])}var j=n("2ab2"),h=n("b1c8"),m={name:"homeMenu",props:{edit:Boolean},components:{DeleteOutlined:h["a"]},data:function(){return{isError:!1,selectedKeys:[],machineMenu:[],pubilcMachineMenu:[]}},mounted:function(){var t=this;j["a"].getBookMarks(this.edit).then((function(e){t.machineMenu=e,console.log("个人的",t.machineMenu),t.machineMenu&&t.machineMenu.length&&(t.$emit("getShowMenu",t.machineMenu[0]),t.$emit("getAllMenu",t.machineMenu),t.selectedKeys=[t.machineMenu[0].dateAdded+""])})).catch((function(t){console.log("获取书签出错:",t)})),j["a"].getPublicBookMarks().then((function(e){t.edit||(t.pubilcMachineMenu=e,console.log("公共的",t.pubilcMachineMenu))})).catch((function(t){console.log("获取公共书签出错:",t)}))},methods:{getClickMenu:function(t){this.$emit("getShowMenu",t)},getClickPublicMenu:function(t){this.$emit("getShowPublicMenu",t)},deleteMenu:function(t,e){t.stopPropagation(),t.preventDefault(),console.log("删除导航",e),this.machineMenu=this.machineMenu.filter((function(t){return t.dateAdded!==e.dateAdded})),this.machineMenu.length&&this.selectedKeys.includes(e.dateAdded+"")?(this.selectedKeys=[this.machineMenu[0].dateAdded+""],this.getClickMenu(this.machineMenu[0])):this.getClickMenu(null),this.$emit("deleteItem",e)}}},p=(n("9476"),n("d959")),O=n.n(p);const k=O()(m,[["render",b]]);var g=k,v={key:0,class:"opate"},w={class:"show_contain"},_={key:0,class:"opate"};function M(t,e,n,a,o,i){var s=Object(c["R"])("DeleteOutlined"),r=Object(c["R"])("HomeContent",!0),u=Object(c["R"])("a-collapse-panel"),l=Object(c["R"])("a-button"),d=Object(c["R"])("a-collapse");return Object(c["H"])(),Object(c["l"])("div",null,[Object(c["p"])(d,{activeKey:o.activeKeys,"onUpdate:activeKey":e[0]||(e[0]=function(t){return o.activeKeys=t})},{default:Object(c["cb"])((function(){return[(Object(c["H"])(!0),Object(c["l"])(c["b"],null,Object(c["P"])(i.getIsChildren,(function(t){return Object(c["H"])(),Object(c["j"])(u,{key:t.dateAdded+""},{header:Object(c["cb"])((function(){return[Object(c["o"])(Object(c["U"])(t.title)+" ",1),n.edit?(Object(c["H"])(),Object(c["l"])("span",v,[Object(c["p"])(s,{onClick:function(e){return i.deleteMenu(e,t)}},null,8,["onClick"])])):Object(c["k"])("",!0)]})),default:Object(c["cb"])((function(){return[Object(c["p"])(r,{showContentData:t.children,onDeleteItem:function(e){return i.deleteItem(e,t)},edit:n.edit},null,8,["showContentData","onDeleteItem","edit"])]})),_:2},1024)})),128)),Object(c["m"])("div",w,[(Object(c["H"])(!0),Object(c["l"])(c["b"],null,Object(c["P"])(i.getNoChildren,(function(t){return Object(c["H"])(),Object(c["j"])(l,{key:t.dateAdded+"",type:"link"},{default:Object(c["cb"])((function(){return[Object(c["p"])(l,{type:"link",href:t.url,target:"_blank"},{default:Object(c["cb"])((function(){return[Object(c["o"])(Object(c["U"])(t.title),1)]})),_:2},1032,["href"]),n.edit?(Object(c["H"])(),Object(c["l"])("span",_,[Object(c["p"])(s,{onClick:function(e){return i.deleteMenu(e,t)}},null,8,["onClick"])])):Object(c["k"])("",!0)]})),_:2},1024)})),128))])]})),_:1},8,["activeKey"])])}n("d81d");var y={name:"homeContent",components:{DeleteOutlined:h["a"]},props:{showContentData:[],edit:Boolean},data:function(){return{activeKeys:[]}},computed:{getIsChildren:function(){return this.showContentData&&Array.isArray(this.showContentData)&&this.showContentData.filter((function(t){return t.children&&t.children.length}))},getNoChildren:function(){return this.showContentData&&Array.isArray(this.showContentData)&&this.showContentData.filter((function(t){return t.url&&(!t.children||0===t.children.length)}))}},watch:{showContentData:function(t){this.activeKeys=t.filter((function(t){return t.children&&t.children.length})).map((function(t){return t.dateAdded+""}))}},mounted:function(){this.activeKeys=this.showContentData.filter((function(t){return t.children&&t.children.length})).map((function(t){return t.dateAdded+""}))},methods:{deleteMenu:function(t,e){t.stopPropagation(),t.preventDefault(),e.isDelete=!0,this.$emit("deleteItem",e)},deleteItem:function(t,e){e.children=e.children.filter((function(e){return e.dateAdded!==t.dateAdded&&e.title!==t.title})),this.$emit("deleteItem",t)}}};n("4f65");const D=O()(y,[["render",M]]);var C=D,P=function(t){return Object(c["L"])("data-v-258a6170"),t=t(),Object(c["I"])(),t},S={class:"home_tasklist"},L={class:"task_tool"},x=Object(c["o"])("新增任务"),H={class:"form_col"},R=P((function(){return Object(c["m"])("label",{class:"form_col_label"},"名称:",-1)})),A={class:"form_col"},T=P((function(){return Object(c["m"])("label",{class:"form_col_label"},"时间:",-1)})),I={class:"form_col"},U=P((function(){return Object(c["m"])("label",{class:"form_col_label"},"内容:",-1)})),B=Object(c["o"])("删除"),z={class:"tag_list"},N=Object(c["o"])("已超时"),V=Object(c["o"])("进行中"),K=Object(c["o"])("未进行");function J(t,e,n,a,o,i){var s=Object(c["R"])("a-button"),r=Object(c["R"])("a-input"),u=Object(c["R"])("a-date-picker"),l=Object(c["R"])("a-textarea"),d=Object(c["R"])("a-modal"),f=Object(c["R"])("a-tag"),b=Object(c["R"])("a-card");return Object(c["H"])(),Object(c["l"])("div",S,[Object(c["m"])("div",L,[Object(c["p"])(s,{type:"primary",onClick:i.addTaskList},{default:Object(c["cb"])((function(){return[x]})),_:1},8,["onClick"])]),Object(c["p"])(d,{visible:o.addVisible,"onUpdate:visible":e[3]||(e[3]=function(t){return o.addVisible=t}),title:"新增任务",okText:"保存",cancelText:"取消",onOk:i.addTaskData,centered:!0,maskClosable:!1,confirmLoading:o.confirmLoading},{default:Object(c["cb"])((function(){return[Object(c["m"])("div",H,[R,Object(c["p"])(r,{class:"form_col_input",value:o.title,"onUpdate:value":e[0]||(e[0]=function(t){return o.title=t})},null,8,["value"])]),Object(c["m"])("div",A,[T,Object(c["p"])(u,{class:"form_col_input",locale:o.locale,"show-time":"",placeholder:"选择时间",value:o.time,"onUpdate:value":e[1]||(e[1]=function(t){return o.time=t})},null,8,["locale","value"])]),Object(c["m"])("div",I,[U,Object(c["p"])(l,{class:"form_col_input",autoSize:{minRows:8,maxRows:15},value:o.content,"onUpdate:value":e[2]||(e[2]=function(t){return o.content=t})},null,8,["value"])])]})),_:1},8,["visible","onOk","confirmLoading"]),(Object(c["H"])(!0),Object(c["l"])(c["b"],null,Object(c["P"])(o.taskList,(function(t,e){return Object(c["H"])(),Object(c["j"])(b,{class:"card",title:t.title,key:t.title+e,bodyStyle:o.cardBodyStyle},{extra:Object(c["cb"])((function(){return[Object(c["p"])(s,{type:"link",onClick:function(e){return i.deleteTask(t)}},{default:Object(c["cb"])((function(){return[B]})),_:2},1032,["onClick"])]})),default:Object(c["cb"])((function(){return[Object(c["m"])("span",null,Object(c["U"])(i.getData(t.time)),1),Object(c["m"])("pre",null,Object(c["U"])(t.content),1),Object(c["m"])("div",z,[0===t.status?(Object(c["H"])(),Object(c["j"])(f,{key:0,color:"error"},{default:Object(c["cb"])((function(){return[N]})),_:1})):Object(c["k"])("",!0),1===t.status?(Object(c["H"])(),Object(c["j"])(f,{key:1,color:"success"},{default:Object(c["cb"])((function(){return[V]})),_:1})):Object(c["k"])("",!0),2===t.status?(Object(c["H"])(),Object(c["j"])(f,{key:2,color:"default"},{default:Object(c["cb"])((function(){return[K]})),_:1})):Object(c["k"])("",!0)])]})),_:2},1032,["title","bodyStyle"])})),128))])}var E=n("2909"),W=(n("99af"),n("4e82"),n("f64c")),Y=n("40a7"),$=n("c1df"),F=n.n($),q={name:"HomeTaskList",props:{msg:String},data:function(){return{locale:Y["a"],cardBodyStyle:{padding:"5px 10px"},taskList:[],addVisible:!1,title:"",content:"",time:null,confirmLoading:!1}},mounted:function(){var t=this;j["a"].getTasklist().then((function(e){var n=[];e.privateDatas&&(n=[].concat(Object(E["a"])(n),Object(E["a"])(e.privateDatas))),t.dataSort(n),console.log(e,"获取的任务列表")}))},methods:{getData:function(t){return F()(t).format("YYYY/MM/DD HH:mm:ss")},dataSort:function(t){var e=(new Date).getTime(),n=108e5,c=[],a=[],o=[];t.forEach((function(t){t.time-e<0?(t.status=0,c.push(t)):t.time-e<=n?(t.status=1,o.push(t)):(t.status=2,a.push(t))})),c=c.sort((function(t,e){return t.time-e.time})),o=o.sort((function(t,e){return t.time-e.time})),this.taskList=[].concat(Object(E["a"])(c),Object(E["a"])(o),a)},addTaskList:function(){this.addVisible=!0},addTaskData:function(){var t=this;if(console.log(this.title,this.time._d,this.content),this.title&&this.time&&this.time._d){var e={title:this.title,time:new Date(this.time._d).getTime(),content:this.content};this.taskList.push(e),this.dataSort(this.taskList),this.confirmLoading=!0,j["a"].uploadTaskList(this.taskList).then((function(e){e?(W["a"].success("更新成功"),t.addVisible=!1,t.title="",t.content=""):W["a"].error("更新失败"),t.confirmLoading=!1}))}else W["a"].error("请填写完整")},deleteTask:function(t){var e=t.title+t.time;this.taskList=this.taskList.filter((function(t){return t.title+t.time!==e})),j["a"].uploadTaskList(this.taskList).then((function(t){t?W["a"].success("更新成功"):W["a"].error("更新失败")}))}}};n("3dfa");const G=O()(q,[["render",J],["__scopeId","data-v-258a6170"]]);var Q=G,X=n("c1d4"),Z=n("f8ef"),tt={name:"home",components:{HomeMenu:g,HomeContent:C,HomeTaskList:Q},props:{edit:Boolean},data:function(){return{isShowPublic:!1,searchContentData:[],showPublicContentData:[],showPublicContentDataStr:[],showContentData:[],showContentDataStr:"[]",allData:[],value:"",deleteMarkData:[],isHomeTaskList:!1,isHomeTaskListPublic:!1}},watch:{value:function(t){this.searchContentData=this.loopSearchMarks(this.isShowPublic?JSON.parse(this.showPublicContentDataStr):JSON.parse(this.showContentDataStr),t.toLowerCase())}},mounted:function(){var t=this;X["a"].getLocalVariable(Object(Z["i"])("tasklist","private_open")).then((function(e){t.isHomeTaskList=e})),X["a"].getLocalVariable(Object(Z["i"])("tasklist","public_open")).then((function(e){t.isHomeTaskListPublic=e}))},methods:{getDate:function(t){return F()(t).format("YYYY/MM/DD HH:mm:ss")},loopSearchMarks:function(t,e){var n=this;if(!t)return[];var c=t.filter((function(t){return!t.url||t.title.toLowerCase().indexOf(e)>-1||e.indexOf(t.title.toLowerCase())>-1}));return c&&c.length&&c.forEach((function(t){t.children=n.loopSearchMarks(t.children,e)})),c},loopDeleteMarks:function(t,e){var n=this;if(!t)return[];var c=t.filter((function(t){return!e.includes((function(e){return t.dateAdded===e.dateAdded&&t.title===e.title}))}));return c&&c.length&&c.forEach((function(t){t.children=n.loopDeleteMarks(t.children,e)})),c},saveUpdate:function(){var t=this.loopDeleteMarks(this.allData,this.deleteMarkData);console.log(this.allData,this.deleteMarkData,t,"保存所有更新========================"),j["a"].uploadBookMarks(t).then((function(t){t&&alert("更新成功")}))},getAllMenu:function(t){this.allData=t},getShowMenu:function(t){this.isShowPublic=!1,console.log(t,"会展示的菜单"),this.showContentData=t?t.children:[],this.showContentDataStr=JSON.stringify(this.showContentData)},getShowPublicMenu:function(t){this.isShowPublic=!0,console.log(t,"会展示的公共菜单"),this.showPublicContentData=t?t.children:[],this.showPublicContentDataStr=JSON.stringify(this.showPublicContentData)},deleteItem:function(t){this.deleteMarkData.push(t),this.showContentData=this.showContentData.filter((function(e){return e.dateAdded!==t}))}}};n("7020");const et=O()(tt,[["render",d],["__scopeId","data-v-e68631da"]]);e["a"]=et},"0b99":function(t,e,n){},"2ab2":function(t,e,n){"use strict";var c=n("2909"),a=n("5530"),o=(n("d3b7"),n("d81d"),n("99af"),n("e9c4"),n("c1d4")),i=n("b712"),s=n("f8ef");function r(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(e,n){var c={},r=function(t){c=Object(a["a"])(Object(a["a"])({},c),t),c.hasOwnProperty("getBookMarks")&&c.hasOwnProperty("getRemoteBookMarks")&&e(u(l||[],d))},l=[],d=null;t?r({getBookMarks:!1}):i["a"].getBookmarks().then((function(t){t||(l=t),r({getBookMarks:!0})})).catch((function(t){r({getBookMarks:!1}),console.log("没有获取到本地书签, 不在浏览器扩展中",t)})),o["a"].getLocalVariable(Object(s["i"])("booksMarks","private_open")).then((function(t){t?Object(s["j"])("booksMarks","private").then((function(t){Object(s["d"])(t.access,t.owner,t.repo,"booksMarks",t.flag).then((function(t){d=t,r({getRemoteBookMarks:!0})})).catch((function(t){console.log("获取远程数据不存在",t),r({getRemoteBookMarks:!1})}))})).catch((function(t){console.log("获取远程数据的accessToken的值存在问题",t),r({getRemoteBookMarks:!1})})):r({getRemoteBookMarks:!0})})).catch((function(t){console.log("没有获取到booksMarks, private_open的值",t),r({getRemoteBookMarks:!1})}))}))}function u(t,e){var n=[];e&&e.content&&(n=JSON.parse(decodeURIComponent(atob(e.content))),n=n.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{title:t.title||t.dateAdded,dateAdded:t.dateAdded})})));var o=[].concat(Object(c["a"])(t),Object(c["a"])(n));return o}function l(t){return t=t||[],new Promise((function(e,n){Object(s["j"])("booksMarks","private").then((function(c){Object(s["a"])(c.access,c.owner,c.repo,"booksMarks",c.flag,t).then((function(){e(!0)})).catch((function(t){console.log("更新远程数据失败",t),n({err:t})}))})).catch((function(t){console.log("获取私人标识报错",t),n({err:t})}))}))}function d(){return new Promise((function(t,e){o["a"].getLocalVariable(Object(s["i"])("booksMarks","public_open")).then((function(n){n&&Object(s["j"])("booksMarks","public").then((function(n){Object(s["d"])(n.access,n.owner,n.repo,"booksMarks",n.flag).then((function(e){t(u([],e))})).catch((function(t){console.log("获取远程数据不存在",t),e({msg:t})}))})).catch((function(t){console.log("获取远程数据的accessToken的值存在问题",t),e({msg:t})}))})).catch((function(t){console.log("没有获取到booksMarks, private_open的值",t),e({msg:t})}))}))}function f(){return new Promise((function(t,e){var n=null,c=null,i={},r=function(e){i=Object(a["a"])(Object(a["a"])({},i),e),i.hasOwnProperty("public")&&i.hasOwnProperty("private")&&(console.log(JSON.stringify(n)),console.log(JSON.stringify(c)),t(b(n,c)))};o["a"].getLocalVariable(Object(s["i"])("tasklist","private_open")).then((function(t){t?Object(s["j"])("tasklist","private").then((function(t){Object(s["d"])(t.access,t.owner,t.repo,"tasklist",t.flag).then((function(t){c=t,r({private:!0})})).catch((function(t){console.log("获取远程数据不存在",t),r({private:!1})}))})).catch((function(t){console.log("获取私人标识报错",t),r({private:!1})})):r({getRemoteBookMarks:!0})})),o["a"].getLocalVariable(Object(s["i"])("tasklist","public_open")).then((function(t){t?Object(s["j"])("tasklist","public").then((function(t){Object(s["d"])(t.access,t.owner,t.repo,"tasklist",t.flag).then((function(t){n=t,r({public:!0})})).catch((function(t){console.log("获取远程数据不存在",t),r({public:!1})}))})).catch((function(t){console.log("获取公共标识报错",t),r({public:!1})})):r({getRemoteBookMarks:!0})}))}))}function b(t,e){var n={publicDatas:[],privateDatas:[]};return t&&t.content&&(n.publicDatas=JSON.parse(decodeURIComponent(atob(t.content))),n.publicDatas=n.publicDatas[0]),e&&e.content&&(n.privateDatas=JSON.parse(decodeURIComponent(atob(e.content))),n.privateDatas=n.privateDatas[0]),n}function j(t){var e=t.map((function(t){return{title:t.title,time:t.time,content:t.content}}));return new Promise((function(t,n){Object(s["j"])("tasklist","private").then((function(c){Object(s["a"])(c.access,c.owner,c.repo,"tasklist",c.flag,e).then((function(){t(!0)})).catch((function(t){console.log("更新远程数据失败",t),n({err:t})}))})).catch((function(t){console.log("获取私人标识报错",t),n({err:t})}))}))}function h(){return new Promise((function(t,e){var n=null,c=null,i={},r=function(e){i=Object(a["a"])(Object(a["a"])({},i),e),i.hasOwnProperty("public")&&i.hasOwnProperty("private")&&t(b(n,c))};o["a"].getLocalVariable(Object(s["i"])("codes","private_open")).then((function(t){t?Object(s["j"])("codes","private").then((function(t){Object(s["d"])(t.access,t.owner,t.repo,"codes",t.flag).then((function(t){c=t,r({private:!0})})).catch((function(t){console.log("获取远程数据不存在",t),r({private:!1})}))})).catch((function(t){console.log("获取私人标识报错",t),r({private:!1})})):r({getRemoteBookMarks:!0})})),o["a"].getLocalVariable(Object(s["i"])("codes","public_open")).then((function(t){t?Object(s["j"])("codes","public").then((function(t){Object(s["d"])(t.access,t.owner,t.repo,"codes",t.flag).then((function(t){n=t,r({public:!0})})).catch((function(t){console.log("获取远程数据不存在",t),r({public:!1})}))})).catch((function(t){console.log("获取公共标识报错",t),r({public:!1})})):r({getRemoteBookMarks:!0})}))}))}function m(t){return new Promise((function(e,n){Object(s["j"])("codes","private").then((function(c){Object(s["a"])(c.access,c.owner,c.repo,"codes",c.flag,t).then((function(){e(!0)})).catch((function(t){console.log("更新远程数据失败",t),n({err:t})}))})).catch((function(t){console.log("获取私人标识报错",t),n({err:t})}))}))}e["a"]={getBookMarks:r,getPublicBookMarks:d,uploadBookMarks:l,getTasklist:f,uploadTaskList:j,getCodes:h,uploadCodes:m}},"3dfa":function(t,e,n){"use strict";n("0b99")},"3fad":function(t,e,n){},4678:function(t,e,n){var c={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}a.keys=function(){return Object.keys(c)},a.resolve=o,t.exports=a,a.id="4678"},"4f65":function(t,e,n){"use strict";n("3fad")},7020:function(t,e,n){"use strict";n("c09e")},7131:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return u}));n("caad");var c=["web"],a=null,o=navigator.userAgent;function i(){return c.includes("chrome-extension")}function s(){return c.includes("firefox-extension")}function r(){return c.includes("firefox-extension")||c.includes("chrome-extension")}function u(){return a}"chrome-extension:"===location.protocol&&c.push("chrome-extension"),o.indexOf("Firefox")>=0&&c.push("firefox-extension"),"vscode-webview:"===location.protocol&&c.push("vscode-extension"),c.includes("chrome-extension")&&(a=window.chrome),c.includes("firefox-extension")&&(a=window.browser)},"76bb":function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var c=n("5efb"),a=n("98c5"),o=n("55f1"),i=n("dfae"),s=n("b558"),r=n("cdeb"),u=n("ed3b"),l=n("0bb7"),d=n("7571"),f=n("9fd0"),b=n("960f"),j=n("3af3"),h=n("f933"),m=n("160c"),p=n("2fc4"),O=n("0020"),k=n("a79d8"),g=n("9839"),v=n("c1df"),w=n.n(v);function _(t){t.use(c["a"]),t.use(a["a"]),t.use(o["a"]),t.use(i["a"]),t.use(s["a"]),t.use(r["a"]),t.use(u["a"]),t.use(l["a"]),t.use(d["a"]),t.use(f["a"]),t.use(b["a"]),t.use(j["a"]),t.use(h["a"]),t.use(m["a"]),t.use(p["a"]),t.use(O["a"]),t.use(k["a"]),t.use(g["b"])}w.a.locale("zh-cn")},9476:function(t,e,n){"use strict";n("d2a4")},b712:function(t,e,n){"use strict";n("d3b7"),n("2ca0"),n("b0c0");var c=n("7131");function a(){return new Promise((function(t){Object(c["a"])()&&Object(c["a"])().bookmarks?Object(c["a"])().bookmarks.getTree((function(e){t(e[0])})):t(null)}))}function o(t,e){if(!Object(c["a"])()||!Object(c["a"])().extension||!Object(c["a"])().contextMenus||!Object(c["a"])().tabs)return null;var n=Object(c["a"])().extension.getURL(e);Object(c["a"])().contextMenus.create({title:t,onclick:function(){Object(c["a"])().tabs.create({url:n})}})}function i(t){if(!Object(c["a"])()||!Object(c["a"])().contextMenus)return null;window.chrome.contextMenus.create({type:"separator",title:t||(new Date).getTime()+"",onclick:function(){}})}function s(t,e){if(!Object(c["a"])()||!Object(c["a"])().contextMenus||!Object(c["a"])().tabs)return null;var n=Object(c["a"])().contextMenus.create({title:t,onclick:function(){Object(c["a"])().tabs.query({active:!0,currentWindow:!0},(function(t){if(!t.length)return null;if(t[0].url.startsWith("chrome://"))return alert("不允许在标签页执行代码"),null;var n=t[0].id;Object(c["a"])().tabs.executeScript(n,{code:e})}))}});return n}function r(t){if(!Object(c["a"])()||!Object(c["a"])().contextMenus)return null;Object(c["a"])().contextMenus.remove(t)}function u(t,e,n){if(!Object(c["a"])()||!Object(c["a"])().runtime)return null;Object(c["c"])()?Object(c["a"])().runtime.sendMessage({name:t,data:e},(function(t){n(t)})):Object(c["d"])()&&Object(c["a"])().runtime.sendMessage({name:t,data:e}).then((function(t){n(t)}))}function l(t,e,n){if(!Object(c["a"])()||!Object(c["a"])().runtime)return null;Object(c["a"])().runtime.onMessage.addListener((function(c,a,o){c.name===t&&n(c.data),o(e)}))}e["a"]={addSeparatorMenu:i,addExtrueCodeMenu:s,sendMessage:u,deleteMenu:r,onMessage:l,getBookmarks:a,addLinkMenu:o}},c09e:function(t,e,n){},c1d4:function(t,e,n){"use strict";var c=n("ade3"),a=n("53ca"),o=(n("e9c4"),n("a9e3"),n("2ca0"),n("8a79"),n("d3b7"),n("159b"),n("4de4"),n("b64b"),n("7131")),i=0,s=[];function r(t){return"number"===typeof t?t+"":"object"===Object(a["a"])(t)?JSON.stringify(t):(t||(t=""),t)}function u(t){return"null"===t?"":isNaN(Number(t))?t.startsWith("[")&&t.endsWith("]")?JSON.parse(t):t:Number(t)}function l(t,e){return new Promise((function(n){if(Object(o["b"])())return Object(o["a"])()&&Object(o["a"])().storage?void Object(o["a"])().storage.local.set(Object(c["a"])({},t,e),(function(){n(!0)})):void n(null);localStorage.setItem("extensionSetting_"+t,r(e)),n(!0),s.filter((function(e){return e.key===t})).forEach((function(t){t.fn.apply(null,[e])}))}))}function d(t){return new Promise((function(e){if(Object(o["b"])())return Object(o["a"])()&&Object(o["a"])().storage?void Object(o["a"])().storage.local.get(Object(c["a"])({},t,null),(function(n){e(n[t])})):void e(null);var n=localStorage.getItem("extensionSetting_"+t);e(n?u(n):null)}))}function f(t,e){return i+=1,d(t).then((function(t){e(t)})),s.push({id:i,key:t,fn:e}),i}function b(t){s=s.filter((function(e){return e.id!==t}))}function j(){Object.keys(localStorage).forEach((function(t){t.startsWith("extensionSetting_")&&localStorage.removeItem(t)})),s.forEach((function(t){t.fn.apply(null,[null])}))}e["a"]={deleteLocalVariableSub:b,getLocalVariableSub:f,getLocalVariable:d,setLocalVariable:l,clearLocalData:j}},d2a4:function(t,e,n){},f8ef:function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"i",(function(){return s})),n.d(e,"k",(function(){return r})),n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return m})),n.d(e,"e",(function(){return p})),n.d(e,"l",(function(){return O})),n.d(e,"b",(function(){return k}));n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("2ca0"),n("ac1f"),n("1276"),n("e9c4"),n("5319");var c=n("bc3a"),a=n.n(c),o=n("c1d4");function i(t){return a.a.get(t)}function s(t,e){return"__gitee_".concat(t,"_").concat(e)}function r(t,e){return{accessToken:{varName:s(t,e+"_access_token")},owner:{varName:s(t,e+"_owner")},repo:{varName:s(t,e+"_repo")}}}function u(t,e){return[s(t,e+"_access_token"),s(t,e+"_owner"),s(t,e+"_repo")]}function l(t,e,n){return new Promise((function(c,a){var i=o["a"].getLocalVariable("__gitee_".concat(t,"_").concat(e,"_flag")),s=o["a"].getLocalVariable("__gitee_".concat(t,"_").concat(e,"_access_token")),r=o["a"].getLocalVariable("__gitee_".concat(t,"_").concat(e,"_owner")),u=o["a"].getLocalVariable("__gitee_".concat(t,"_").concat(e,"_repo"));Promise.all([i,s,r,u]).then((function(t){var e={flag:t[0],access:t[1],owner:t[2],repo:t[3]};(t[0]&&!n||n)&&t[1]&&t[2]&&t[3]?c(e):a({msg:"存在值为空",data:e})})).catch((function(t){a({msg:t})}))}))}function d(t,e,n,c,o){var i=o;c&&(i="_data_".concat(c,"/").concat(o,".json"));var s="https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/contents/").concat(decodeURI(i),"?access_token=").concat(t);return new Promise((function(t,e){a.a.get(s).then((function(n){n.data?t(n.data):e({msg:"gitee的数据不存在"})})).catch((function(t){e({msg:"gitee的数据获取错误",err:t})}))}))}function f(t,e,n,c){var o="https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/contents/")+"".concat(c,"?access_token=").concat(t);return new Promise((function(t,e){a.a.get(o).then((function(n){n.data?t(n.data):e({msg:"gitee的数据不存在"})})).catch((function(t){e({msg:"gitee的数据获取错误",err:t})}))}))}function b(t,e,n,c,o){var i="https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/contents/").concat(decodeURI(c),"?access_token=").concat(t),s=new FormData;s.append("access_token",t);var r="";return r="string"===typeof o&&o.startsWith("data")&&o.indexOf(";base64,")?o.split(";base64,")[1]:btoa(encodeURIComponent(JSON.stringify([o]))),s.append("content",r||""),s.append("message",c+"新增数据"),new Promise((function(t,e){a.a.post(i,s).then((function(e){t(e.data)})).catch((function(t){e({msg:"gitee新增数据错误",err:t}),e(t)}))}))}function j(t,e,n,c,o,i){var s="https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/contents/").concat(decodeURI(c),"?access_token=").concat(t),r=new FormData;r.append("access_token",t);var u="";return u="string"===typeof o&&o.startsWith("data")&&o.indexOf(";base64,")?o.split(";base64,")[1]:Array.isArray(o)?btoa(encodeURIComponent(JSON.stringify(o))):btoa(encodeURIComponent(JSON.stringify([o]))),r.append("content",u||""),r.append("sha",i),r.append("message",c+"更新数据"),new Promise((function(t,e){a.a.put(s,r).then((function(e){t(e.data)})).catch((function(t){e({msg:"gitee覆盖数据错误",err:t})}))}))}function h(t,e,n,c,a,o){return new Promise((function(i,s){a.startsWith("/")&&(a=a.replace("/","")),d(t,e,n,c,a).then((function(r){var u=a;c&&(u="_data_".concat(c,"/").concat(a,".json")),r&&r.length>0||r.sha?j(t,e,n,u,o,r.sha).then((function(t){i(t)})).catch((function(t){s(t)})):b(t,e,n,u,o).then((function(t){i(t)})).catch((function(t){s(t)}))})).catch((function(t){s(t)}))}))}function m(t,e,n,c,o,i){if(i||(i=c+"删除文件"),o){var s=" https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/contents/")+"".concat(c,"?access_token=").concat(t,"&sha=").concat(o,"&message=").concat(i);return new Promise((function(t,e){a.a.delete(s).then((function(e){t(e.data)})).catch((function(t){e({msg:"删除文件错误",err:t})}))}))}return new Promise((function(a,o){d(t,e,n,null,c).then((function(s){s.sha?m(t,e,n,c,s.sha,i).then((function(t){a(t)})).catch((function(t){o(t)})):o({message:"文件不存在，删除失败"})}))}))}function p(t,e,n,c,o){c||(c="master"),o||(o=1);var i="https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/git/trees/").concat(c,"?access_token=").concat(t,"&recursive=").concat(o);return new Promise((function(t,e){a.a.get(i).then((function(e){t(e.data)})).catch((function(t){e({msg:"获取目录树错误",err:t})}))}))}function O(t,e){var n="https://gitee.com/api/v5/markdown",c=new FormData;return c.append("access_token",t),c.append("text",e),new Promise((function(t,e){a.a.post(n,c).then((function(e){t(e.data)})).catch((function(t){e({msg:"获取md渲染html错误",err:t})}))}))}function k(t,e,n){var c=" https://gitee.com/api/v5/repos/".concat(e,"/").concat(n,"/pages/builds"),o=new FormData;return o.append("access_token",t),new Promise((function(t,e){a.a.post(c,o).then((function(e){t(e.data)})).catch((function(t){e({msg:"构建pages报错",err:t})}))}))}}}]);
//# sourceMappingURL=chunk-common.js.map