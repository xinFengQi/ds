{"version":3,"sources":["webpack:///./src/pages/home/home.vue","webpack:///./src/pages/home/home-menu.vue","webpack:///./src/pages/home/home-menu.vue?fec9","webpack:///./src/pages/home/home-content.vue","webpack:///./src/pages/home/home-content.vue?1c23","webpack:///./src/pages/home/home-tasklist.vue","webpack:///./src/pages/home/home-tasklist.vue?da7f","webpack:///./src/util/date.js","webpack:///./src/pages/home/home.vue?5ecd","webpack:///./src/chrome_lib/chrome_gitee_util.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/pages/home/home-menu.vue?eba3","webpack:///./src/chrome_lib/chrome_util.js","webpack:///./src/pages/home/home-content.vue?6fa7","webpack:///./src/pages/home/home.vue?88a7","webpack:///./src/pages/home/home-tasklist.vue?5ce3"],"names":["class","edit","type","saveUpdate","getShowMenu","$event","getShowPublicMenu","getAllMenu","deleteItem","value","placeholder","getDate","showContentData","dateAdded","searchContentData","length","style","isShowPublic","showPublicContentData","isHomeTaskList","isHomeTaskListPublic","mode","selectedKeys","inline-collapsed","collapsed","machineMenu","item","key","getClickMenu","title","deleteMenu","pubilcMachineMenu","getClickPublicMenu","name","props","Boolean","components","DeleteOutlined","data","mounted","getBookMarks","this","then","v","console","log","$emit","catch","err","getPublicBookMarks","methods","ev","stopPropagation","preventDefault","filter","includes","render","activeKey","activeKeys","getIsChildren","da","header","children","getNoChildren","href","url","target","computed","Array","isArray","watch","newV","map","isDelete","addTaskList","visible","addVisible","okText","cancelText","addTaskData","centered","maskClosable","confirmLoading","locale","show-time","time","autoSize","content","taskList","task","i","bodyStyle","cardBodyStyle","extra","deleteTask","getData","status","color","msg","String","padding","getTasklist","privateCode","dataSort","format","arr","Date","getTime","threeTime","timeoutTask","noRunTask","runTask","forEach","push","sort","a","b","_d","uploadTaskList","_v","message","success","error","__scopeId","date","getFullYear","getMonth","getHours","getMinutes","HomeMenu","HomeContent","HomeTaskList","showPublicContentDataStr","showContentDataStr","allData","deleteMarkData","newValue","loopSearchMarks","JSON","parse","toLowerCase","getLocalVariable","marks","str","outputData","indexOf","loopDeleteMarks","deleteArr","dV","odata","chrome_gitee_util","uploadBookMarks","alert","stringify","Promise","resolve","reject","getDsFlag","chromeUtil","getGiteeAccess","getGiteeOwner","getGiteeRepo","getGiteeisReader","isReader","getMarks","getBook","getBookmarks","all","getMatkBookUrl","axios","get","httpV","oldContent","decodeURIComponent","atob","olDa","de","newMarkLists","vFile","FormData","append","markNodes","btoa","encodeURIComponent","index","findIndex","vs","sha","put","vUpdate","post","vAdd","getCode","getDsPublicFlag","getDsOpen","getDsPublicOpen","getPublicGiteeAccess","getPublicGiteeOwner","getPublicGiteeRepo","getPrivateCode","getPublicCode","code","publicCode","retuObj","uploadCode","codeList","tasklist","newTaskList","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","keys","Object","module","exports","extensionApi","window","chrome","environment","explorer","navigator","userAgent","vscode","browser","location","protocol","extennsions","subIndex","subs","webLocalStorgeValue","getWebLocalStorgeValue","isNaN","Number","startsWith","endsWith","setLocalVariable","newvalue","storage","local","set","localStorage","setItem","fn","apply","getItem","getLocalVariableSub","cb","subI","deleteLocalVariableSub","bookmarks","getTree","addLinkMenu","src","extension","contextMenus","tabs","scriptCodeSrc","getURL","create","onclick","addSeparatorMenu","addExtrueCodeMenu","query","active","currentWindow","tabId","executeScript","remove","sendMessage","eventName","runtime","response","onMessage","responseData","addListener","request","sender","sendResponse"],"mappings":"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","file":"js/chunk-common.js","sourcesContent":["<template>\r\n  <div class=\"home_tool\">\r\n    <a-button v-if=\"edit\" type=\"primary\" @click=\"saveUpdate\"\r\n      >保存此次数据更新，不会影响本地书签内容</a-button\r\n    >\r\n  </div>\r\n  <div class=\"home_main\">\r\n    <div>\r\n      <HomeMenu\r\n        @getShowMenu=\"getShowMenu($event)\"\r\n        @getShowPublicMenu=\"getShowPublicMenu($event)\"\r\n        @getAllMenu=\"getAllMenu($event)\"\r\n        @deleteItem=\"deleteItem($event)\"\r\n        :edit=\"edit\"\r\n      ></HomeMenu>\r\n    </div>\r\n    <div class=\"home_content\">\r\n      <div class=\"home_tool\" v-if=\"!edit\">\r\n        <a-input class=\"input_search\" v-model:value=\"value\" placeholder=\"搜索书签\" />\r\n      </div>\r\n      <div\r\n        v-if=\"\r\n          edit && !isShowPublic && !value && showContentData && showContentData.length\r\n        \"\r\n        class=\"data_show_tool\"\r\n      >\r\n        数据时间标识: {{ getDate(showContentData[0].dateAdded) }}\r\n      </div>\r\n\r\n      <HomeContent\r\n        :edit=\"edit\"\r\n        style=\"overflow: auto; flex: 1\"\r\n        v-if=\"value && searchContentData && searchContentData.length\"\r\n        :showContentData=\"searchContentData\"\r\n      ></HomeContent>\r\n\r\n      <!-- 私有书签展示 -->\r\n      <HomeContent\r\n        :edit=\"edit\"\r\n        style=\"overflow: auto; flex: 1\"\r\n        v-if=\"!isShowPublic && !value && showContentData && showContentData.length\"\r\n        :showContentData=\"showContentData\"\r\n        @deleteItem=\"deleteItem($event)\"\r\n      ></HomeContent>\r\n\r\n      <!-- 公有书签展示 -->\r\n      <HomeContent\r\n        :edit=\"false\"\r\n        style=\"overflow: auto; flex: 1\"\r\n        v-if=\"\r\n          isShowPublic && !value && showPublicContentData && showPublicContentData.length\r\n        \"\r\n        :showContentData=\"showPublicContentData\"\r\n      ></HomeContent>\r\n    </div>\r\n    <div v-if=\"!edit && (isHomeTaskList || isHomeTaskListPublic)\" class=\"home_task_list\">\r\n      <HomeTaskList></HomeTaskList>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HomeMenu from \"./home-menu.vue\";\r\nimport HomeContent from \"./home-content.vue\";\r\nimport HomeTaskList from \"./home-tasklist.vue\";\r\nimport chrome_gitee_util from \"../../chrome_lib/chrome_gitee_util\";\r\nimport chromeUtil from \"../../chrome_lib/chrome_util\";\r\nimport { format } from \"../../util/date\";\r\n\r\nexport default {\r\n  name: \"home\",\r\n  components: {\r\n    HomeMenu,\r\n    HomeContent,\r\n    HomeTaskList,\r\n  },\r\n  props: {\r\n    edit: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      isShowPublic: false,\r\n      searchContentData: [],\r\n      showPublicContentData: [],\r\n      showPublicContentDataStr: [],\r\n      showContentData: [],\r\n      showContentDataStr: \"[]\",\r\n      allData: [],\r\n      value: \"\",\r\n      deleteMarkData: [],\r\n      isHomeTaskList: false,\r\n      isHomeTaskListPublic: false,\r\n    };\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.searchContentData = this.loopSearchMarks(\r\n        this.isShowPublic\r\n          ? JSON.parse(this.showPublicContentDataStr)\r\n          : JSON.parse(this.showContentDataStr),\r\n        newValue.toLowerCase()\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    chromeUtil.getLocalVariable(\"__gitee_tasklist_private_open\").then((v) => {\r\n      this.isHomeTaskList = v;\r\n    });\r\n    chromeUtil.getLocalVariable(\"__gitee_tasklist_public_open\").then((v) => {\r\n      this.isHomeTaskListPublic = v;\r\n    });\r\n  },\r\n  methods: {\r\n    getDate(date) {\r\n      return format(new Date(date));\r\n    },\r\n    // 递归查询数据\r\n    loopSearchMarks(marks, str) {\r\n      if (!marks) {\r\n        return [];\r\n      }\r\n      const outputData = marks.filter(\r\n        (v) =>\r\n          !v.url ||\r\n          v.title.toLowerCase().indexOf(str) > -1 ||\r\n          str.indexOf(v.title.toLowerCase()) > -1\r\n      );\r\n      if (outputData && outputData.length) {\r\n        outputData.forEach((v) => {\r\n          v.children = this.loopSearchMarks(v.children, str);\r\n        });\r\n      }\r\n      return outputData;\r\n    },\r\n    // 递归删除数据\r\n    loopDeleteMarks(marks, deleteArr) {\r\n      if (!marks) {\r\n        return [];\r\n      }\r\n      const outputData = marks.filter((v) =>\r\n        deleteArr.includes((dV) => v.dateAdded !== dV.dateAdded && v.title !== dV.title)\r\n      );\r\n      if (outputData && outputData.length) {\r\n        outputData.forEach((v) => {\r\n          v.children = this.loopDeleteMarks(v.children, deleteArr);\r\n        });\r\n      }\r\n      return outputData;\r\n    },\r\n    saveUpdate: function () {\r\n      const odata = this.loopDeleteMarks(this.allData, this.deleteMarkData);\r\n      console.log(\r\n        this.allData,\r\n        this.deleteMarkData,\r\n        odata,\r\n        \"保存所有更新========================\"\r\n      );\r\n      chrome_gitee_util.uploadBookMarks(odata).then((v) => {\r\n        if (v) {\r\n          alert(\"更新成功\");\r\n        }\r\n      });\r\n    },\r\n    getAllMenu(data) {\r\n      this.allData = data;\r\n    },\r\n    getShowMenu(data) {\r\n      this.isShowPublic = false;\r\n      console.log(data, \"会展示的菜单\");\r\n      if (!data) {\r\n        this.showContentData = [];\r\n      } else {\r\n        this.showContentData = data.children;\r\n      }\r\n      this.showContentDataStr = JSON.stringify(this.showContentData);\r\n    },\r\n    getShowPublicMenu(data) {\r\n      this.isShowPublic = true;\r\n      console.log(data, \"会展示的公共菜单\");\r\n      if (!data) {\r\n        this.showPublicContentData = [];\r\n      } else {\r\n        this.showPublicContentData = data.children;\r\n      }\r\n      this.showPublicContentDataStr = JSON.stringify(this.showPublicContentData);\r\n    },\r\n    deleteItem(ev) {\r\n      this.deleteMarkData.push(ev);\r\n      this.showContentData = this.showContentData.filter((v) => v.dateAdded !== ev);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  padding: 20px 0;\r\n  height: 100%;\r\n}\r\n\r\n.home_main {\r\n  display: flex;\r\n  height: calc(100% - 42px);\r\n}\r\n.home_content {\r\n  height: 100%;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.home_tool {\r\n  display: flex;\r\n  margin: 10px;\r\n}\r\n.data_show_tool {\r\n  display: flex;\r\n  margin: 4px;\r\n}\r\n.input_search {\r\n  width: 200px !important;\r\n  height: 40px;\r\n}\r\n.home_task_list {\r\n  text-align: left;\r\n  padding-right: 20px;\r\n  padding-left: 10px;\r\n  width: 300px;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* antDesign 样式重写 */\r\n.ant-card-head {\r\n  min-height: auto !important;\r\n}\r\n.ant-card-extra {\r\n  padding: 8px 0px !important;\r\n}\r\n.ant-card-head-title {\r\n  padding: 8px 0px !important;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <a-menu\r\n      mode=\"inline\"\r\n      v-model:selectedKeys=\"selectedKeys\"\r\n      :inline-collapsed=\"collapsed\"\r\n    >\r\n      <a-menu-item\r\n        v-for=\"item in machineMenu\"\r\n        :key=\"item.dateAdded + ''\"\r\n        @click=\"getClickMenu(item)\"\r\n      >\r\n        <span>{{ item.title }}</span>\r\n        <span class=\"opate\" v-if=\"edit\">\r\n          <DeleteOutlined @click=\"deleteMenu($event, item)\"></DeleteOutlined>\r\n        </span>\r\n      </a-menu-item>\r\n\r\n      <a-menu-item\r\n        v-for=\"item in pubilcMachineMenu\"\r\n        :key=\"item.dateAdded + ''\"\r\n        @click=\"getClickPublicMenu(item)\"\r\n      >\r\n        <span>{{ item.title }}</span>\r\n      </a-menu-item>\r\n    </a-menu>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport chromeGiteeUtil from \"../../chrome_lib/chrome_gitee_util\";\r\nimport { DeleteOutlined } from \"@ant-design/icons-vue\";\r\nexport default {\r\n  name: \"homeMenu\",\r\n  props: {\r\n    edit: Boolean,\r\n  },\r\n  components: {\r\n    DeleteOutlined,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedKeys: [],\r\n      machineMenu: [],\r\n      pubilcMachineMenu: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    chromeGiteeUtil\r\n      .getBookMarks(this.edit)\r\n      .then((v) => {\r\n        this.machineMenu = v;\r\n        console.log(\"个人的\", this.machineMenu);\r\n\r\n        this.$emit(\"getShowMenu\", this.machineMenu[0]);\r\n        this.$emit(\"getAllMenu\", this.machineMenu);\r\n        this.selectedKeys = [this.machineMenu[0].dateAdded + \"\"];\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"获取书签出错:\", err);\r\n      });\r\n    chromeGiteeUtil\r\n      .getPublicBookMarks()\r\n      .then((v) => {\r\n        if (!this.edit) {\r\n          this.pubilcMachineMenu = v;\r\n          console.log(\"公共的\", this.pubilcMachineMenu);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"获取公共书签出错:\", err);\r\n      });\r\n  },\r\n  methods: {\r\n    getClickMenu(data) {\r\n      this.$emit(\"getShowMenu\", data);\r\n    },\r\n    getClickPublicMenu(data) {\r\n      this.$emit(\"getShowPublicMenu\", data);\r\n    },\r\n    deleteMenu(ev, item) {\r\n      ev.stopPropagation();\r\n      ev.preventDefault();\r\n      console.log(\"删除导航\", item);\r\n      this.machineMenu = this.machineMenu.filter((v) => v.dateAdded !== item.dateAdded);\r\n\r\n      if (this.machineMenu.length && this.selectedKeys.includes(item.dateAdded + \"\")) {\r\n        this.selectedKeys = [this.machineMenu[0].dateAdded + \"\"];\r\n        this.getClickMenu(this.machineMenu[0]);\r\n      } else {\r\n        this.getClickMenu(null);\r\n      }\r\n      this.$emit(\"deleteItem\", item);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scope>\r\n.opate {\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n","import { render } from \"./home-menu.vue?vue&type=template&id=43ab8efa\"\nimport script from \"./home-menu.vue?vue&type=script&lang=js\"\nexport * from \"./home-menu.vue?vue&type=script&lang=js\"\n\nimport \"./home-menu.vue?vue&type=style&index=0&id=43ab8efa&scope=true&lang=css\"\nscript.render = render\n\nexport default script","<template>\r\n  <div>\r\n    <a-collapse v-model:activeKey=\"activeKeys\">\r\n      <a-collapse-panel v-for=\"da in getIsChildren\" :key=\"da.dateAdded + ''\">\r\n        <template #header>\r\n          {{ da.title }}\r\n          <span class=\"opate\" v-if=\"edit\">\r\n            <DeleteOutlined @click=\"deleteMenu($event, da)\"></DeleteOutlined>\r\n          </span>\r\n        </template>\r\n        <HomeContent\r\n          :showContentData=\"da.children\"\r\n          @deleteItem=\"deleteItem($event, da)\"\r\n          :edit=\"edit\"\r\n        ></HomeContent>\r\n      </a-collapse-panel>\r\n      <div class=\"show_contain\">\r\n        <a-button\r\n          v-for=\"da in getNoChildren\"\r\n          :key=\"da.dateAdded + ''\"\r\n          type=\"link\"\r\n        >\r\n          <a :href=\"da.url\" target=\"_blank\">{{ da.title }}</a>\r\n          <span class=\"opate\" v-if=\"edit\">\r\n            <DeleteOutlined @click=\"deleteMenu($event, da)\"></DeleteOutlined>\r\n          </span>\r\n        </a-button>\r\n      </div>\r\n    </a-collapse>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { DeleteOutlined } from \"@ant-design/icons-vue\";\r\n\r\nexport default {\r\n  name: \"homeContent\",\r\n  components: {\r\n    DeleteOutlined,\r\n  },\r\n  props: {\r\n    showContentData: [],\r\n    edit: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      activeKeys: [],\r\n    };\r\n  },\r\n  computed: {\r\n    getIsChildren: function () {\r\n      return (\r\n        this.showContentData &&\r\n        Array.isArray(this.showContentData) &&\r\n        this.showContentData.filter((v) => v.children && v.children.length)\r\n      );\r\n    },\r\n    getNoChildren: function () {\r\n      return (\r\n        this.showContentData &&\r\n        Array.isArray(this.showContentData) &&\r\n        this.showContentData.filter(\r\n          (v) => v.url && (!v.children || v.children.length === 0)\r\n        )\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    showContentData: function (newV) {\r\n      this.activeKeys = newV\r\n        .filter((v) => v.children && v.children.length)\r\n        .map((v) => v.dateAdded + \"\");\r\n    },\r\n  },\r\n  mounted() {\r\n    this.activeKeys = this.showContentData\r\n      .filter((v) => v.children && v.children.length)\r\n      .map((v) => v.dateAdded + \"\");\r\n  },\r\n  methods: {\r\n    deleteMenu(ev, item) {\r\n      ev.stopPropagation();\r\n      ev.preventDefault();\r\n      item.isDelete = true;\r\n      this.$emit(\"deleteItem\", item);\r\n    },\r\n    deleteItem(ev, da) {\r\n      da.children = da.children.filter((v) => v.dateAdded !== ev.dateAdded && v.title !== ev.title);\r\n      this.$emit(\"deleteItem\", ev);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scope>\r\n.show_contain {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.show_all_tip {\r\n  padding: 2px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.ant-collapse-content > .ant-collapse-content-box {\r\n  padding: 2px !important;\r\n}\r\n\r\n.ant-collapse > .ant-collapse-item > .ant-collapse-header {\r\n  display: flex;\r\n}\r\n\r\n.ant-collapse > .ant-collapse-item > .ant-collapse-header {\r\n  padding: 6px 40px !important;\r\n}\r\n</style>\r\n","import { render } from \"./home-content.vue?vue&type=template&id=3244e206\"\nimport script from \"./home-content.vue?vue&type=script&lang=js\"\nexport * from \"./home-content.vue?vue&type=script&lang=js\"\n\nimport \"./home-content.vue?vue&type=style&index=0&id=3244e206&scope=true&lang=css\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"home_tasklist\">\r\n    <div class=\"task_tool\">\r\n      <a-button type=\"primary\" @click=\"addTaskList\">新增任务</a-button>\r\n    </div>\r\n    <a-modal\r\n      v-model:visible=\"addVisible\"\r\n      title=\"新增任务\"\r\n      okText=\"保存\"\r\n      cancelText=\"取消\"\r\n      @ok=\"addTaskData\"\r\n      :centered=\"true\"\r\n      :maskClosable=\"false\"\r\n      :confirmLoading=\"confirmLoading\"\r\n    >\r\n      <div class=\"form_col\">\r\n        <label class=\"form_col_label\">名称:</label>\r\n        <a-input class=\"form_col_input\" v-model:value=\"title\" />\r\n      </div>\r\n      <div class=\"form_col\">\r\n        <label class=\"form_col_label\">时间:</label>\r\n        <a-date-picker\r\n          class=\"form_col_input\"\r\n          :locale=\"locale\"\r\n          show-time\r\n          placeholder=\"选择时间\"\r\n          v-model:value=\"time\"\r\n        />\r\n      </div>\r\n      <div class=\"form_col\">\r\n        <label class=\"form_col_label\">内容:</label>\r\n        <a-textarea\r\n          class=\"form_col_input\"\r\n          :autoSize=\"{ minRows: 8, maxRows: 15 }\"\r\n          v-model:value=\"content\"\r\n        />\r\n      </div>\r\n    </a-modal>\r\n\r\n    <a-card\r\n      class=\"card\"\r\n      v-for=\"(task, i) in taskList\"\r\n      :title=\"task.title\"\r\n      :key=\"task.title + i\"\r\n      :bodyStyle=\"cardBodyStyle\"\r\n    >\r\n      <template #extra><a @click=\"deleteTask(task)\">删除</a></template>\r\n      <span>{{ getData(task.time) }}</span>\r\n      <pre>{{ task.content }}</pre>\r\n      <div class=\"tag_list\">\r\n        <a-tag v-if=\"task.status === 0\" color=\"error\">已超时</a-tag>\r\n        <a-tag v-if=\"task.status === 1\" color=\"success\">进行中</a-tag>\r\n        <a-tag v-if=\"task.status === 2\" color=\"default\">未进行</a-tag>\r\n      </div>\r\n    </a-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { message } from \"ant-design-vue\";\r\nimport locale from \"ant-design-vue/es/date-picker/locale/zh_CN\";\r\nimport chromeGiteeUtil from \"../../chrome_lib/chrome_gitee_util\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  name: \"HomeTaskList\",\r\n  props: {\r\n    msg: String,\r\n  },\r\n  data() {\r\n    return {\r\n      locale,\r\n      cardBodyStyle: {\r\n        padding: \"5px 10px\",\r\n      },\r\n      taskList: [],\r\n      addVisible: false,\r\n      title: \"\",\r\n      content: \"\",\r\n      time: null,\r\n      confirmLoading: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    chromeGiteeUtil.getTasklist().then((v) => {\r\n      let data = [];\r\n      if (v.privateCode) {\r\n        data = [...data, ...v.privateCode];\r\n      }\r\n      this.dataSort(data);\r\n      console.log(v, \"获取的任务列表\");\r\n    });\r\n  },\r\n  methods: {\r\n    getData(time) {\r\n      return moment(time).format(\"YYYY/MM/DD HH:mm:ss\");\r\n    },\r\n    // 任务列表重新排序\r\n    dataSort(arr) {\r\n      const time = new Date().getTime();\r\n      const threeTime = 3 * 60 * 60 * 1000;\r\n      let timeoutTask = [];\r\n      const noRunTask = [];\r\n      let runTask = [];\r\n      arr.forEach((v) => {\r\n        if (v.time - time < 0) {\r\n          // 已超时\r\n          v.status = 0;\r\n          timeoutTask.push(v);\r\n        } else if (v.time - time <= threeTime) {\r\n          // 正在进行的\r\n          v.status = 1;\r\n          runTask.push(v);\r\n        } else {\r\n          v.status = 2;\r\n          noRunTask.push(v);\r\n        }\r\n      });\r\n      timeoutTask = timeoutTask.sort((a, b) => {\r\n        return a.time - b.time;\r\n      });\r\n      runTask = runTask.sort((a, b) => {\r\n        return a.time - b.time;\r\n      });\r\n      this.taskList = [...timeoutTask, ...runTask, ...noRunTask];\r\n    },\r\n    // 展示弹窗\r\n    addTaskList: function () {\r\n      this.addVisible = true;\r\n    },\r\n    addTaskData: function () {\r\n      console.log(this.title, this.time._d, this.content);\r\n      if (!this.title || !this.time || !this.time._d) {\r\n        message.error(\"请填写完整\");\r\n        return;\r\n      }\r\n      const data = {\r\n        title: this.title,\r\n        time: new Date(this.time._d).getTime(),\r\n        content: this.content,\r\n      };\r\n      this.taskList.push(data);\r\n      this.dataSort(this.taskList);\r\n      this.confirmLoading = true;\r\n      chromeGiteeUtil.uploadTaskList(this.taskList).then((_v) => {\r\n        if (_v) {\r\n          message.success(\"更新成功\");\r\n          this.addVisible = false;\r\n          this.title = \"\";\r\n          this.content = \"\";\r\n        } else {\r\n          message.error(\"更新失败\");\r\n        }\r\n        this.confirmLoading = false;\r\n      });\r\n    },\r\n    deleteTask: function (task) {\r\n      const key = task.title + task.time;\r\n      this.taskList = this.taskList.filter((v) => v.title + v.time !== key);\r\n      chromeGiteeUtil.uploadTaskList(this.taskList).then((_v) => {\r\n        if (_v) {\r\n          message.success(\"更新成功\");\r\n        } else {\r\n          message.error(\"更新失败\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.home_tasklist {\r\n  height: 100%;\r\n}\r\n.task_tool {\r\n  margin: 10px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.form_col {\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n}\r\n.form_col_label {\r\n  min-width: 50px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  padding: 0px 10px;\r\n}\r\n.form_col_input {\r\n  flex: 1;\r\n}\r\n.card {\r\n  margin-bottom: 10px;\r\n}\r\n.tag_list {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>\r\n","import { render } from \"./home-tasklist.vue?vue&type=template&id=6a1a0a2e&scoped=true\"\nimport script from \"./home-tasklist.vue?vue&type=script&lang=js\"\nexport * from \"./home-tasklist.vue?vue&type=script&lang=js\"\n\nimport \"./home-tasklist.vue?vue&type=style&index=0&id=6a1a0a2e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6a1a0a2e\"\n\nexport default script","export function format(date) {\r\n    return `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}`\r\n}","import { render } from \"./home.vue?vue&type=template&id=6d6fd74c\"\nimport script from \"./home.vue?vue&type=script&lang=js\"\nexport * from \"./home.vue?vue&type=script&lang=js\"\n\nimport \"./home.vue?vue&type=style&index=0&id=6d6fd74c&lang=css\"\nscript.render = render\n\nexport default script","import chromeUtil from './chrome_util';\r\nimport axios from 'axios';\r\n\r\n// 获取公共书签\r\nfunction getPublicBookMarks() {\r\n    return new Promise((resolve, reject) => {\r\n        // 先去获取本地书签\r\n        const getDsFlag = chromeUtil.getLocalVariable(\r\n            '__gitee_ds_public_flag'\r\n        );\r\n        const getGiteeAccess = chromeUtil.getLocalVariable(\r\n            '__gitee_public_access_token'\r\n        );\r\n        const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_public_owner');\r\n        const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_public_repo');\r\n\r\n        // 判断是否读取远程书签权限\r\n        const getGiteeisReader = chromeUtil.getLocalVariable(\r\n            '__giteeMarks_public_open'\r\n        );\r\n        getGiteeisReader.then((isReader) => {\r\n            if (isReader) {\r\n                getMarks(\r\n                    [\r\n                        null,\r\n                        getDsFlag,\r\n                        getGiteeAccess,\r\n                        getGiteeOwner,\r\n                        getGiteeRepo,\r\n                    ],\r\n                    resolve,\r\n                    reject,\r\n                    true\r\n                );\r\n            } else {\r\n                resolve([]);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// 获取书签\r\nfunction getBookMarks(edit = false) {\r\n    return new Promise((resolve, reject) => {\r\n        // 先去获取本地书签\r\n        const getBook = chromeUtil.getBookmarks();\r\n        const getDsFlag = chromeUtil.getLocalVariable('__gitee_ds_flag');\r\n        const getGiteeAccess = chromeUtil.getLocalVariable(\r\n            '__gitee_access_token'\r\n        );\r\n        const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_owner');\r\n        const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_repo');\r\n\r\n        // 判断是否读取远程书签权限\r\n        const getGiteeisReader = chromeUtil.getLocalVariable(\r\n            '__giteeMarks_private_open'\r\n        );\r\n\r\n        getGiteeisReader.then((isReader) => {\r\n            if (isReader) {\r\n                getMarks(\r\n                    [\r\n                        getBook,\r\n                        getDsFlag,\r\n                        getGiteeAccess,\r\n                        getGiteeOwner,\r\n                        getGiteeRepo,\r\n                    ],\r\n                    resolve,\r\n                    reject,\r\n                    edit\r\n                );\r\n            } else {\r\n                getMarks([getBook], resolve, reject, edit);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// 获取书签的具体请求逻辑\r\nfunction getMarks(arr, resolve, reject, edit) {\r\n    Promise.all(arr).then((v) => {\r\n        let machineMenu = [];\r\n        if (v[1] && v[2] && v[3] && v[4]) {\r\n            const getMatkBookUrl = `https://gitee.com/api/v5/repos/${v[3]}/${v[4]}/contents/chrome_bookMark%2F${v[1]}.json?access_token=${v[2]}`;\r\n            axios\r\n                .get(getMatkBookUrl)\r\n                .then((httpV) => {\r\n                    if (\r\n                        httpV.data &&\r\n                        ((Array.isArray(httpV.data) && httpV.data.length > 0) ||\r\n                            !Array.isArray(httpV.data))\r\n                    ) {\r\n                        let oldContent = JSON.parse(\r\n                            decodeURIComponent(atob(httpV.data.content))\r\n                        ).map((olDa) => {\r\n                            return {\r\n                                ...olDa,\r\n                                title: olDa.title || olDa.dateAdded,\r\n                                dateAdded: olDa.dateAdded,\r\n                            };\r\n                        });\r\n                        if (v[0] && !edit) {\r\n                            oldContent = oldContent.filter(\r\n                                (de) =>\r\n                                    de.dateAdded !== v[0].dateAdded &&\r\n                                    de.children[0].dateAdded !==\r\n                                    v[0].children[0].dateAdded\r\n                            );\r\n                            machineMenu = [\r\n                                {\r\n                                    ...v[0],\r\n                                    title: '本地书签',\r\n                                    dateAdded: v[0].dateAdded,\r\n                                },\r\n                                ...oldContent,\r\n                            ];\r\n                        } else {\r\n                            machineMenu = [...oldContent];\r\n                        }\r\n                        console.log('内容是', machineMenu);\r\n                        resolve(machineMenu);\r\n                    } else {\r\n                        resolve([]);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    reject({ msg: 'gitee的数据获取错误', err });\r\n                });\r\n        } else {\r\n            if (v[0]) {\r\n                machineMenu = [\r\n                    {\r\n                        ...v[0],\r\n                        title: '本地书签',\r\n                        dateAdded: v[0].dateAdded,\r\n                    },\r\n                ];\r\n                resolve(machineMenu);\r\n            } else {\r\n                reject({ msg: '本地书签未获取到' });\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n// 更新书签\r\nfunction uploadBookMarks(newMarkLists = null) {\r\n    return new Promise((resolve) => {\r\n        // 先去获取本地书签\r\n        const getBook = chromeUtil.getBookmarks();\r\n        const getDsFlag = chromeUtil.getLocalVariable('__gitee_ds_flag');\r\n        const getGiteeAccess = chromeUtil.getLocalVariable(\r\n            '__gitee_access_token'\r\n        );\r\n        const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_owner');\r\n        const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_repo');\r\n\r\n        Promise.all([\r\n            getBook,\r\n            getDsFlag,\r\n            getGiteeAccess,\r\n            getGiteeOwner,\r\n            getGiteeRepo,\r\n        ]).then((v) => {\r\n            if (!v[1] || !v[2] || !v[3] || !v[4]) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            axios\r\n                .get(\r\n                    `https://gitee.com/api/v5/repos/${v[3]}/${v[4]}/contents/chrome_bookMark%2F${v[1]}.json?access_token` +\r\n                    `=${v[2]}`\r\n                )\r\n                .then((vFile) => {\r\n                    console.log('文件是否存在', vFile);\r\n                    let data = new FormData();\r\n                    data.append('access_token', v[2]);\r\n                    const markNodes = v[0];\r\n                    if (!markNodes && !newMarkLists) {\r\n                        alert('本地没有书签');\r\n                        return;\r\n                    }\r\n                    if (\r\n                        vFile.data &&\r\n                        ((Array.isArray(vFile.data) && vFile.data.length > 0) ||\r\n                            !Array.isArray(vFile.data))\r\n                    ) {\r\n                        if (newMarkLists) {\r\n                            data.append(\r\n                                'content',\r\n                                btoa(\r\n                                    encodeURIComponent(\r\n                                        JSON.stringify(newMarkLists)\r\n                                    )\r\n                                )\r\n                            );\r\n                        } else {\r\n                            let oldContent = JSON.parse(\r\n                                decodeURIComponent(atob(vFile.data.content))\r\n                            );\r\n                            if (!Array.isArray(oldContent)) {\r\n                                oldContent = [oldContent];\r\n                            }\r\n                            const index = oldContent.findIndex(\r\n                                (vs) =>\r\n                                    vs.dateAdded === markNodes.dateAdded ||\r\n                                    vs.children[0].dateAdded ===\r\n                                    markNodes.children[0].dateAdded\r\n                            );\r\n                            if (index < 0) {\r\n                                oldContent.push(markNodes);\r\n                            } else {\r\n                                oldContent[index] = markNodes;\r\n                            }\r\n                            console.log('内容是', oldContent);\r\n                            data.append(\r\n                                'content',\r\n                                btoa(\r\n                                    encodeURIComponent(\r\n                                        JSON.stringify(oldContent)\r\n                                    )\r\n                                )\r\n                            );\r\n                        }\r\n                        data.append('message', v[1] + '更新书签');\r\n                        data.append('sha', vFile.data.sha);\r\n                        axios\r\n                            .put(\r\n                                `https://gitee.com/api/v5/repos/${v[3]}/${v[4]}/contents/` +\r\n                                `chrome_bookMark%2F${v[1]}.json`,\r\n                                data\r\n                            )\r\n                            .then((vUpdate) => {\r\n                                if (vUpdate) {\r\n                                    console.log('远程更新本地书签', vUpdate);\r\n                                    resolve(true);\r\n                                } else {\r\n                                    alert('更新失败');\r\n                                }\r\n                            });\r\n                    } else {\r\n                        data.append(\r\n                            'content',\r\n                            btoa(\r\n                                encodeURIComponent(JSON.stringify([markNodes]))\r\n                            )\r\n                        );\r\n                        data.append('message', v[1] + '新增书签');\r\n                        axios\r\n                            .post(\r\n                                `https://gitee.com/api/v5/repos/${v[3]}/${v[4]}/` +\r\n                                `contents/chrome_bookMark%2F${v[1]}.json`,\r\n                                data\r\n                            )\r\n                            .then((vAdd) => {\r\n                                if (vAdd) {\r\n                                    console.log('远程新建本地书签', vAdd);\r\n                                    resolve(true);\r\n                                } else {\r\n                                    alert('新增失败');\r\n                                }\r\n                            });\r\n                    }\r\n                });\r\n        });\r\n    });\r\n}\r\n\r\n// 获取代码\r\nfunction getCode() {\r\n    // 获取个人信息\r\n    const getDsFlag = chromeUtil.getLocalVariable('__gitee_code_ds_flag');\r\n    const getDsPublicFlag = chromeUtil.getLocalVariable(\r\n        '__gitee_code_ds_pubilc_flag'\r\n    );\r\n\r\n    const getDsOpen = chromeUtil.getLocalVariable('__giteeCodes_private_open');\r\n    const getDsPublicOpen = chromeUtil.getLocalVariable(\r\n        '__giteeCodes_public_open'\r\n    );\r\n\r\n    const getGiteeAccess = chromeUtil.getLocalVariable(\r\n        '__gitee_code_access_token'\r\n    );\r\n    const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_code_owner');\r\n    const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_code_repo');\r\n\r\n    const getPublicGiteeAccess = chromeUtil.getLocalVariable(\r\n        '__gitee_code_public_access_token'\r\n    );\r\n    const getPublicGiteeOwner = chromeUtil.getLocalVariable('__gitee_code_public_owner');\r\n    const getPublicGiteeRepo = chromeUtil.getLocalVariable('__gitee_code_public_repo');\r\n\r\n\r\n\r\n    return new Promise((resolve) => {\r\n        Promise.all([\r\n            getDsFlag,\r\n            getDsPublicFlag,\r\n            getGiteeAccess,\r\n            getGiteeOwner,\r\n            getGiteeRepo,\r\n            getPublicGiteeAccess,\r\n            getPublicGiteeOwner,\r\n            getPublicGiteeRepo,\r\n            getDsOpen,\r\n            getDsPublicOpen\r\n        ]).then((v) => {\r\n            if (v[8] && v[0] && (!v[2] || !v[3] || !v[4])) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            if (v[9] && v[1] && (!v[5] || !v[6] || !v[7])) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            let getPrivateCode = null;\r\n            if (v[8] && v[0]) {\r\n                getPrivateCode = axios.get(\r\n                    `https://gitee.com/api/v5/repos/${v[3]}/${v[4]}/contents/chrome_codeScript%2F${v[0]}.json?access_token=${v[2]}`\r\n                );\r\n            }\r\n            let getPublicCode = null;\r\n            if (v[9] && v[1]) {\r\n                getPublicCode = axios.get(\r\n                    `https://gitee.com/api/v5/repos/${v[6]}/${v[7]}/contents/chrome_codeScript%2F${v[1]}.json?access_token=${v[5]}`\r\n                );\r\n            }\r\n            Promise.all([getPrivateCode, getPublicCode]).then(\r\n                (code) => {\r\n                    if(!code) {\r\n                        resolve({})\r\n                    }\r\n                    const privateCode = code[0].data,\r\n                        publicCode = code[1] && code[1].data;\r\n                    const retuObj = {};\r\n                    if (\r\n                        privateCode &&\r\n                        ((Array.isArray(privateCode) &&\r\n                            privateCode.length > 0) ||\r\n                            !Array.isArray(privateCode))\r\n                    ) {\r\n                        console.log('存在私人脚本');\r\n                        retuObj.privateCode = JSON.parse(\r\n                            decodeURIComponent(atob(privateCode.content))\r\n                        );\r\n                    }\r\n                    if (\r\n                        publicCode &&\r\n                        ((Array.isArray(publicCode) && publicCode.length > 0) ||\r\n                            !Array.isArray(publicCode))\r\n                    ) {\r\n                        console.log('存在公共脚本脚本');\r\n                        retuObj.publicCode = JSON.parse(\r\n                            decodeURIComponent(atob(publicCode.content))\r\n                        );\r\n                    }\r\n                    resolve(retuObj);\r\n                }\r\n            );\r\n        });\r\n    });\r\n}\r\n\r\n// 更新代码\r\nfunction uploadCode(codeList) {\r\n    // 获取个人信息\r\n    const getDsFlag = chromeUtil.getLocalVariable('__gitee_code_ds_flag');\r\n    const getGiteeAccess = chromeUtil.getLocalVariable(\r\n        '__gitee_code_access_token'\r\n    );\r\n    const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_code_owner');\r\n    const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_code_repo');\r\n    console.log(codeList);\r\n    return new Promise((resolve) => {\r\n        Promise.all([\r\n            getDsFlag,\r\n            getGiteeAccess,\r\n            getGiteeOwner,\r\n            getGiteeRepo,\r\n        ]).then((v) => {\r\n            if (!v[0] || !v[1] || !v[2] || !v[3]) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            axios\r\n                .get(\r\n                    `https://gitee.com/api/v5/repos/${v[2]}/${v[3]}/contents/chrome_codeScript%2F${v[0]}.json?access_token` +\r\n                    `=${v[1]}`\r\n                )\r\n                .then((vFile) => {\r\n                    console.log('文件是否存在', vFile);\r\n                    let data = new FormData();\r\n                    data.append('access_token', v[1]);\r\n                    if (\r\n                        vFile.data &&\r\n                        ((Array.isArray(vFile.data) && vFile.data.length > 0) ||\r\n                            !Array.isArray(vFile.data))\r\n                    ) {\r\n                        data.append(\r\n                            'content',\r\n                            btoa(encodeURIComponent(JSON.stringify(codeList)))\r\n                        );\r\n                        data.append('message', v[1] + '更新执行代码');\r\n                        data.append('sha', vFile.data.sha);\r\n                        axios\r\n                            .put(\r\n                                `https://gitee.com/api/v5/repos/${v[2]}/${v[3]}/contents/` +\r\n                                `chrome_codeScript%2F${v[0]}.json`,\r\n                                data\r\n                            )\r\n                            .then((vUpdate) => {\r\n                                if (vUpdate) {\r\n                                    console.log('远程更新脚本库', vUpdate);\r\n                                    resolve(true);\r\n                                } else {\r\n                                    alert('更新失败');\r\n                                }\r\n                            });\r\n                    } else {\r\n                        data.append(\r\n                            'content',\r\n                            btoa(encodeURIComponent(JSON.stringify(codeList)))\r\n                        );\r\n                        data.append('message', v[1] + '新增执行代码');\r\n                        axios\r\n                            .post(\r\n                                `https://gitee.com/api/v5/repos/${v[2]}/${v[3]}/` +\r\n                                `contents/chrome_codeScript%2F${v[0]}.json`,\r\n                                data\r\n                            )\r\n                            .then((vAdd) => {\r\n                                if (vAdd) {\r\n                                    console.log('远程新建脚本', vAdd);\r\n                                    resolve(true);\r\n                                } else {\r\n                                    alert('新增失败');\r\n                                }\r\n                            });\r\n                    }\r\n                });\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// 获取任务列表\r\nfunction getTasklist() {\r\n    // 获取个人信息\r\n    const getDsFlag = chromeUtil.getLocalVariable('__gitee_tasklist_ds_flag');\r\n    const getDsPublicFlag = chromeUtil.getLocalVariable(\r\n        '__gitee_tasklist_ds_pubilc_flag'\r\n    );\r\n\r\n    const getDsOpen = chromeUtil.getLocalVariable('__gitee_tasklist_private_open');\r\n    const getDsPublicOpen = chromeUtil.getLocalVariable(\r\n        '__gitee_tasklist_public_open'\r\n    );\r\n\r\n    const getGiteeAccess = chromeUtil.getLocalVariable(\r\n        '__gitee_tasklist_access_token'\r\n    );\r\n    const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_tasklist_owner');\r\n    const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_tasklist_repo');\r\n\r\n    const getPublicGiteeAccess = chromeUtil.getLocalVariable(\r\n        '__gitee_tasklist_public_access_token'\r\n    );\r\n    const getPublicGiteeOwner = chromeUtil.getLocalVariable('__gitee_tasklist_public_owner');\r\n    const getPublicGiteeRepo = chromeUtil.getLocalVariable('__gitee_tasklist_public_repo');\r\n\r\n\r\n\r\n    return new Promise((resolve) => {\r\n        Promise.all([\r\n            getDsFlag,\r\n            getDsPublicFlag,\r\n            getGiteeAccess,\r\n            getGiteeOwner,\r\n            getGiteeRepo,\r\n            getPublicGiteeAccess,\r\n            getPublicGiteeOwner,\r\n            getPublicGiteeRepo,\r\n            getDsOpen,\r\n            getDsPublicOpen\r\n        ]).then((v) => {\r\n            if (v[8] && v[0] && (!v[2] || !v[3] || !v[4])) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            if (v[9] && v[1] && (!v[5] || !v[6] || !v[7])) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            let getPrivateCode = null;\r\n            if (v[8] && v[0]) {\r\n                getPrivateCode = axios.get(\r\n                    `https://gitee.com/api/v5/repos/${v[3]}/${v[4]}/contents/chrome_taskList%2F${v[0]}.json?access_token=${v[2]}`\r\n                );\r\n            }\r\n            let getPublicCode = null;\r\n            if (v[9] && v[1]) {\r\n                getPublicCode = axios.get(\r\n                    `https://gitee.com/api/v5/repos/${v[6]}/${v[7]}/contents/chrome_taskList%2F${v[1]}.json?access_token=${v[5]}`\r\n                );\r\n            }\r\n            Promise.all([getPrivateCode, getPublicCode]).then(\r\n                (code) => {\r\n                    const privateCode = code[0].data,\r\n                        publicCode = code[1] && code[1].data;\r\n                    const retuObj = {};\r\n                    if (\r\n                        privateCode &&\r\n                        ((Array.isArray(privateCode) &&\r\n                            privateCode.length > 0) ||\r\n                            !Array.isArray(privateCode))\r\n                    ) {\r\n                        console.log('存在私人任务');\r\n                        retuObj.privateCode = JSON.parse(\r\n                            decodeURIComponent(atob(privateCode.content))\r\n                        );\r\n                    }\r\n                    if (\r\n                        publicCode &&\r\n                        ((Array.isArray(publicCode) && publicCode.length > 0) ||\r\n                            !Array.isArray(publicCode))\r\n                    ) {\r\n                        console.log('存在公共任务');\r\n                        retuObj.publicCode = JSON.parse(\r\n                            decodeURIComponent(atob(publicCode.content))\r\n                        );\r\n                    }\r\n                    resolve(retuObj);\r\n                }\r\n            );\r\n        });\r\n    });\r\n}\r\n\r\n// 更新代码\r\nfunction uploadTaskList(tasklist) {\r\n    // 获取个人信息\r\n    const getDsFlag = chromeUtil.getLocalVariable('__gitee_tasklist_ds_flag');\r\n    const getGiteeAccess = chromeUtil.getLocalVariable(\r\n        '__gitee_tasklist_access_token'\r\n    );\r\n    const getGiteeOwner = chromeUtil.getLocalVariable('__gitee_tasklist_owner');\r\n    const getGiteeRepo = chromeUtil.getLocalVariable('__gitee_tasklist_repo');\r\n    console.log(tasklist);\r\n    const newTaskList = tasklist.map(v => {\r\n        return {\r\n            title: v.title,\r\n            time: v.time,\r\n            content: v.content,\r\n        }\r\n    })\r\n    return new Promise((resolve) => {\r\n        Promise.all([\r\n            getDsFlag,\r\n            getGiteeAccess,\r\n            getGiteeOwner,\r\n            getGiteeRepo,\r\n        ]).then((v) => {\r\n            if (!v[0] || !v[1] || !v[2] || !v[3]) {\r\n                console.log('存在配置为空');\r\n                resolve(false);\r\n                return;\r\n            }\r\n            axios\r\n                .get(\r\n                    `https://gitee.com/api/v5/repos/${v[2]}/${v[3]}/contents/chrome_taskList%2F${v[0]}.json?access_token` +\r\n                    `=${v[1]}`\r\n                )\r\n                .then((vFile) => {\r\n                    console.log('文件是否存在', vFile);\r\n                    let data = new FormData();\r\n                    data.append('access_token', v[1]);\r\n                    if (\r\n                        vFile.data &&\r\n                        ((Array.isArray(vFile.data) && vFile.data.length > 0) ||\r\n                            !Array.isArray(vFile.data))\r\n                    ) {\r\n                        data.append(\r\n                            'content',\r\n                            btoa(encodeURIComponent(JSON.stringify(newTaskList)))\r\n                        );\r\n                        data.append('message', v[1] + '更新执行任务');\r\n                        data.append('sha', vFile.data.sha);\r\n                        axios\r\n                            .put(\r\n                                `https://gitee.com/api/v5/repos/${v[2]}/${v[3]}/contents/` +\r\n                                `chrome_taskList%2F${v[0]}.json`,\r\n                                data\r\n                            )\r\n                            .then((vUpdate) => {\r\n                                if (vUpdate) {\r\n                                    console.log('远程更新任务列表', vUpdate);\r\n                                    resolve(true);\r\n                                } else {\r\n                                    alert('更新失败');\r\n                                }\r\n                            });\r\n                    } else {\r\n                        data.append(\r\n                            'content',\r\n                            btoa(encodeURIComponent(JSON.stringify(newTaskList)))\r\n                        );\r\n                        data.append('message', v[1] + '新增任务列表');\r\n                        axios\r\n                            .post(\r\n                                `https://gitee.com/api/v5/repos/${v[2]}/${v[3]}/` +\r\n                                `contents/chrome_taskList%2F${v[0]}.json`,\r\n                                data\r\n                            )\r\n                            .then((vAdd) => {\r\n                                if (vAdd) {\r\n                                    console.log('远程新建任务列表', vAdd);\r\n                                    resolve(true);\r\n                                } else {\r\n                                    alert('新增失败');\r\n                                }\r\n                            });\r\n                    }\r\n                });\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n    getPublicBookMarks,\r\n    getBookMarks,\r\n    uploadBookMarks,\r\n    getCode,\r\n    uploadCode,\r\n    getTasklist,\r\n    uploadTaskList\r\n};\r\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./home-menu.vue?vue&type=style&index=0&id=43ab8efa&scope=true&lang=css\"","let extensionApi = window.chrome;\r\n\r\nlet environment = 'web';\r\n\r\nvar explorer = navigator.userAgent;\r\nif (!window.vscode && explorer.indexOf(\"Chrome\") >= 0 && explorer.indexOf(\"Safari\") >= 0) {\r\n    // 在chrome环境\r\n    environment = 'chrome-extension'\r\n    extensionApi = window.chrome;\r\n\r\n}\r\nif (explorer.indexOf(\"Firefox\") >= 0) {\r\n    // 在火狐环境中\r\n    environment = 'firefox-extension'\r\n    extensionApi = window.browser;\r\n}\r\nif (location.protocol === 'vscode-webview:') {\r\n    environment = 'web'\r\n    extensionApi = window.chrome;\r\n}\r\nconsole.log('=============================================', window, window.vscode, environment)\r\nconst extennsions = ['chrome-extension', 'firefox-extension'];\r\n\r\n// 订阅数据监听的代码\r\nlet subIndex = 0;\r\nlet subs = [];\r\n\r\nfunction webLocalStorgeValue(value) {\r\n    if (typeof value === 'number') {\r\n        return value + ''\r\n    } else if (typeof value === 'object') {\r\n        return JSON.stringify(value)\r\n    } else if (!value) {\r\n        value = '';\r\n    }\r\n    return value;\r\n}\r\n\r\nfunction getWebLocalStorgeValue(value) {\r\n    if (!isNaN(Number(value))) {\r\n        return Number(value);\r\n    } else if (value.startsWith('[') && value.endsWith(']')) {\r\n        return JSON.parse(value)\r\n    }\r\n    return value;\r\n}\r\n\r\n/**\r\n *\r\n * 设置变量\r\n * @param {*} key\r\n * @param {*} value 支持者数组,json,数值，字符串\r\n * @return {*} \r\n */\r\nfunction setLocalVariable(key, value) {\r\n    return new Promise((resolve) => {\r\n        let newvalue = value;\r\n        if (extennsions.includes(environment)) {\r\n            if (!extensionApi || !extensionApi.storage) {\r\n                resolve(null);\r\n                return;\r\n            }\r\n            extensionApi.storage.local.set({ [key]: newvalue }, () => {\r\n                resolve(true);\r\n            })\r\n        } else if (environment === 'web') {\r\n            newvalue = webLocalStorgeValue(value);\r\n            localStorage.setItem(key, newvalue);\r\n            resolve(true);\r\n        } {\r\n            resolve(null);\r\n        }\r\n        subs.filter(v => v.key === key).forEach(v => {\r\n            v.fn.apply(this, [value])\r\n        })\r\n    })\r\n\r\n}\r\n\r\n\r\n// 获取变量\r\nfunction getLocalVariable(key) {\r\n    return new Promise((resolve) => {\r\n        if (extennsions.includes(environment)) {\r\n            if (!extensionApi || !extensionApi.storage) {\r\n                resolve(null);\r\n                return;\r\n            }\r\n            extensionApi.storage.local.get({ [key]: null }, (item) => {\r\n                resolve(item[key])\r\n            })\r\n        } else if (environment === 'web') {\r\n            const data = localStorage.getItem(key);\r\n            if (data) {\r\n                resolve(getWebLocalStorgeValue(data));\r\n            } else {\r\n                resolve(null);\r\n            }\r\n        } else {\r\n            resolve(null);\r\n        }\r\n    })\r\n}\r\n\r\n\r\nasync function getLocalVariableSub(key, cb) {\r\n    const subI = subIndex + 1;\r\n    const data = await getLocalVariable(key);\r\n    cb(data);\r\n    subs.push({ id: subI, key, fn: cb });\r\n    return subI;\r\n}\r\n\r\nfunction deleteLocalVariableSub(subI) {\r\n    this.subs = this.subs.filter(v => v.id !== subI);\r\n}\r\n\r\n\r\n\r\n\r\n// 获取书签\r\nasync function getBookmarks() {\r\n    return new Promise((resolve) => {\r\n        if (extensionApi && extensionApi.bookmarks) {\r\n            extensionApi.bookmarks.getTree(markNodes => {\r\n                resolve(markNodes[0])\r\n            });\r\n        } else {\r\n            resolve(null);\r\n        }\r\n    })\r\n}\r\n\r\n\r\n// 新建带链接的菜单显示\r\nfunction addLinkMenu(title, src) {\r\n    if (!extensionApi || !extensionApi.extension || !extensionApi.contextMenus || !extensionApi.tabs) {\r\n        return null;\r\n    }\r\n    const scriptCodeSrc = extensionApi.extension.getURL(src);\r\n    extensionApi.contextMenus.create({\r\n        title: title,\r\n        onclick: function () {\r\n            extensionApi.tabs.create({ url: scriptCodeSrc });\r\n        },\r\n    });\r\n}\r\n\r\n// 新建分割线菜单显示\r\nfunction addSeparatorMenu(title) {\r\n    if (!extensionApi || !extensionApi.contextMenus) {\r\n        return null;\r\n    }\r\n    // 菜单分割线\r\n    window.chrome.contextMenus.create({\r\n        type: \"separator\",\r\n        title: title ? title : new Date().getTime() + '',\r\n        onclick: function () { },\r\n    });\r\n}\r\n\r\n// 新建执行代码的菜单展示\r\nfunction addExtrueCodeMenu(title, code) {\r\n    if (!extensionApi || !extensionApi.contextMenus || !extensionApi.tabs) {\r\n        return null;\r\n    }\r\n    const id = extensionApi.contextMenus.create({\r\n        title: title,\r\n        onclick: function () {\r\n            extensionApi.tabs.query({ active: true, currentWindow: true }, function (tabs) {\r\n                if (!tabs.length) {\r\n                    return null;\r\n                }\r\n                if (tabs[0].url.startsWith('chrome://')) {\r\n                    alert('不允许在标签页执行代码');\r\n                    return null;\r\n                }\r\n                const tabId = tabs[0].id;\r\n                extensionApi.tabs.executeScript(tabId, { code: code });\r\n            });\r\n        }\r\n    });\r\n    return id;\r\n}\r\n\r\n// 根据id删除菜单\r\nfunction deleteMenu(id) {\r\n    if (!extensionApi || !extensionApi.contextMenus) {\r\n        return null;\r\n    }\r\n    extensionApi.contextMenus.remove(id);\r\n}\r\n\r\n\r\n/**\r\n * \r\n * 发送消息\r\n * @param {*} eventName\r\n * @param {*} data   发送的数据\r\n * @param {*} cb  发送被接收后的回调\r\n * @return {*} \r\n */\r\nfunction sendMessage(eventName, data, cb) {\r\n    if (!extensionApi || !extensionApi.runtime) {\r\n        return null;\r\n    }\r\n    if (environment === 'chrome-extension') {\r\n        extensionApi.runtime.sendMessage({ name: eventName, data: data }, function (response) {\r\n            cb(response)\r\n        });\r\n    } else if (environment === 'firefox-extension') {\r\n        extensionApi.runtime.sendMessage({ name: eventName, data: data }).then((response) => {\r\n            cb(response)\r\n        })\r\n    }\r\n\r\n}\r\n\r\n// 监听消息\r\nfunction onMessage(eventName, responseData, cb) {\r\n    if (!extensionApi || !extensionApi.runtime) {\r\n        return null;\r\n    }\r\n    extensionApi.runtime.onMessage.addListener(function (request, sender, sendResponse) {\r\n        if (request.name === eventName) {\r\n            cb(request.data)\r\n        }\r\n        sendResponse(responseData)\r\n    });\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    getBookmarks,\r\n    getLocalVariable,\r\n    getLocalVariableSub,\r\n    deleteLocalVariableSub,\r\n    setLocalVariable,\r\n    addLinkMenu,\r\n    addSeparatorMenu,\r\n    addExtrueCodeMenu,\r\n    deleteMenu,\r\n    sendMessage,\r\n    onMessage,\r\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./home-content.vue?vue&type=style&index=0&id=3244e206&scope=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./home.vue?vue&type=style&index=0&id=6d6fd74c&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./home-tasklist.vue?vue&type=style&index=0&id=6a1a0a2e&scoped=true&lang=css\""],"sourceRoot":""}